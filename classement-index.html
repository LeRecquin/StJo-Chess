<!DOCTYPE html>
<html lang="fr">

    <head>
        <link rel="stylesheet" href="stjochess_style.css">
        <link rel="icon" href="Elements/Renard Couronné StJo.png">
        <meta charset="UTF-8">
        <title> St-Jo Chess </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
    </head>

    <body>

        <header>
            <img id="banner" src="Elements/Banner/StJoChessBanner.png">
            <div class="MenuSelection">
                <a href="classement-index.html" class="Selection1Big">Classement</a>
                <a href="index.html" class="SelectionAccueilSmall">Accueil</a>
                <a href="annonces-index.html" class="Selection1Small">Annonces</a>
            </div>
        </header>
        <div id="classementPart">
            <h1 id="claTitle"> Classement </h1>
            <div>
                <table id="classement">
                    <thead>
                        <tr>
                            <th>Classement</th>
                            <th>Nom</th>
                            <th>Prénom</th>
                            <th>ELO</th>
                            <th>Dernier match</th>
                        </tr>
                    </thead>

                    <tbody>
                    </tbody>
                </table>

                <script>
                    fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vTbfd7L2_SRuHQcYSV_u2ZPEDqCVyFbsLFzE-mSpIaSQrcxd4p5k4WSbHWJEoTighkq8F_gQvuyHWeR/pub?gid=0&single=true&output=csv")
                        .then(response => response.text())
                        .then(csv => {
                            const rows = csv.split("\n").map(r => r.split(","));
                            const tbody = document.querySelector("#classement tbody");
                            rows.slice(1).forEach(r => {
                                const tr = document.createElement("tr");
                                r.forEach(c => {
                                    const td = document.createElement("td");
                                    td.textContent = c;
                                    tr.appendChild(td);
                                });
                                tbody.appendChild(tr);
                            });
                        });
                </script>
            </div>
        </div>
    </body>
</html>